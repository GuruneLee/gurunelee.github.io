---
gh-page: true
created: 2024-06-16 23:54
updated: 2025-03-31 13:20
---


세션기반 인증/토큰기반 인증http는 stateless  
매 요청은 이전 요청과 연관이 없음  
사용자 로그인 등 기능은 상태유지가 필요함  
그래서 브라우저에선 주로 쿠키를 통해 사용자 인증을 함  
쿠키에 직접 인증 정보를 넣거나 session id만 발급하고 별도의 session db를 사용 하거나  
-> 반드시 세션의 구현이 쿠키를 통해서 이뤄진다곤 볼 수 없음  

session id를 별도의 저장소에 저장하고 연결 상태를 유지하면 세션이라고 볼 수 있음  
ex) 네이티브 앱 로그인 후 별도 저장소에 session id 저장해두면 세션이 유지 되는 것이니까 토큰기반 인증  
session id가 토큰 형식으로 관리 된다면?  
토큰기반 인증이 될 수도 세션기반 인증이 될수도 있음  
-> 여기서 명확히 범위를 좁혔어야 함  

토큰이라 함은 jwt 토큰을 말하는가?그럼 지금 ctms api에선 세션 기반인증을 사용 하느냐?  
-> (x)jwt토큰을 활용한 인증을 사용함  

jwt는 토큰 자체에 payload가 있어서 별도의 db를 거치지 않고 토큰의 검증으로 필요한 정보를 얻을 수 있음  
-> db io 등을 줄일 수 있음그렇다면 세션과 토큰(jwt)를 활용한 인증의 명확한 경계로 구별하려면?  
우리가 별도로 세션이라는 개념을 관리 하고 있는가를 보면 됨  
예를들어 특정 계정으로 현재 로그인 한 세션의 수를 조회하려고 하거나, 사용자의 모든 세션을 종료시킨다 라는 기능을 구현하려면 별도의 세션 저장소(rdb or redis)들에 따로 저장하고 관리해야 함

---
![[Pasted image 20231129142417.png]]